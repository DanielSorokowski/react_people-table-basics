{"version":3,"sources":["Pages/HomePage/HomePage.tsx","components/Loader/Loader.tsx","api.ts","components/PersonLink/PersonLink.tsx","Pages/PeoplePage/PeoplePage.tsx","Pages/NotFoundPage/NotFoundPage.tsx","components/PageLink/PageLink.tsx","components/Navbar/Navbar.tsx","App.tsx","index.tsx"],"names":["HomePage","_jsx","_Fragment","children","className","Loader","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","PersonLink","_ref","person","slug","sex","name","Link","to","concat","findParent","people","parentName","find","PeoplePage","_useState","useState","_useState2","_slicedToArray","setPeople","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","hasError","setHasError","selectedSlug","useParams","useEffect","res","personAndParents","map","_objectSpread","mother","motherName","father","fatherName","catch","peopleElements","born","died","_jsxs","classNames","length","NotFoundPage","PageLink","text","NavLink","_ref2","isActive","Navbar","role","App","Routes","Route","path","element","Navigate","replace","createRoot","document","getElementById","render","Router"],"mappings":"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","file":"static/js/main.271b8e78.chunk.js","sourcesContent":["export const HomePage = () => {\n  return (\n    <>\n      <h1 className=\"title\">Home Page</h1>\n    </>\n  );\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Person } from '../../types';\n\ntype Props = {\n  person: Person,\n};\n\nexport const PersonLink: React.FC<Props> = ({ person }) => {\n  const { slug, sex, name } = person;\n\n  return (\n    <Link\n      to={slug}\n      className={`${sex === 'f' && 'has-text-danger'}`}\n    >\n      {name}\n    </Link>\n  );\n};\n","/* eslint-disable no-nested-ternary */\nimport { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { useParams } from 'react-router-dom';\nimport { Loader } from '../../components/Loader/Loader';\nimport { getPeople } from '../../api';\nimport { Person } from '../../types';\nimport { PersonLink } from '../../components/PersonLink/PersonLink';\n\nconst findParent = (\n  people: Person[],\n  parentName: string | null,\n): Person | null => {\n  if (parentName) {\n    return people.find(person => person.name === parentName) || null;\n  }\n\n  return null;\n};\n\nexport const PeoplePage = () => {\n  const [people, setPeople] = useState<Person[] | null>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n  const { selectedSlug } = useParams<{ selectedSlug: string }>();\n\n  useEffect(() => {\n    getPeople().then((res) => {\n      const personAndParents: Person[] = res.map(person => ({\n        ...person,\n        mother: findParent(res, person.motherName),\n        father: findParent(res, person.fatherName),\n      }));\n\n      setPeople(personAndParents);\n      setIsLoading(false);\n    }).catch(() => {\n      setHasError(true);\n    });\n  }, []);\n\n  const peopleElements = people?.map(person => {\n    const {\n      sex,\n      born,\n      died,\n      mother,\n      father,\n      slug,\n    } = person;\n\n    return (\n      <tr\n        data-cy=\"person\"\n        key={slug}\n        className={classNames({\n          'has-background-warning': slug === selectedSlug,\n        })}\n      >\n        <td>\n          <PersonLink person={person} />\n        </td>\n\n        <td>{sex}</td>\n        <td>{born}</td>\n        <td>{died}</td>\n        <td>\n          {mother\n            ? <PersonLink person={mother} />\n            : (person.motherName || '-')}\n        </td>\n        <td>\n          {father\n            ? <PersonLink person={father} />\n            : (person.fatherName || '-')}\n        </td>\n      </tr>\n    );\n  });\n\n  return (\n    <>\n      <h1 className=\"title\">People Page</h1>\n\n      <div className=\"block\">\n        <div className=\"box table-container\">\n\n          {hasError && (\n            <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n              Something went wrong\n            </p>\n          )}\n\n          {isLoading ? (\n            <Loader />\n          ) : !people?.length ? (\n            <p data-cy=\"noPeopleMessage\">There are no people on the server</p>\n          ) : (\n            <table\n              data-cy=\"peopleTable\"\n              className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n            >\n              <thead>\n                <tr>\n                  <th>Name</th>\n                  <th>Sex</th>\n                  <th>Born</th>\n                  <th>Died</th>\n                  <th>Mother</th>\n                  <th>Father</th>\n                </tr>\n              </thead>\n\n              <tbody>{peopleElements}</tbody>\n            </table>\n          )}\n\n        </div>\n      </div>\n    </>\n  );\n};\n","export const NotFoundPage = () => {\n  return (\n    <>\n      <h1 className=\"title\">Page not found</h1>\n    </>\n  );\n};\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classNames from 'classnames';\n\ninterface Props {\n  to: string,\n  text: string,\n}\n\nexport const PageLink: React.FC<Props> = ({ to, text }) => {\n  return (\n    <NavLink\n      to={to}\n      className={({ isActive }) => classNames(\n        'navbar-item',\n        { 'has-background-grey-lighter': isActive },\n      )}\n    >\n      {text}\n    </NavLink>\n  );\n};\n","import { PageLink } from '../PageLink/PageLink';\n\nexport const Navbar = () => {\n  return (\n    <nav\n      data-cy=\"nav\"\n      className=\"navbar is-fixed-top has-shadow\"\n      role=\"navigation\"\n      aria-label=\"main navigation\"\n    >\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <PageLink to=\"/\" text=\"Home\" />\n          <PageLink to=\"/people\" text=\"People\" />\n        </div>\n      </div>\n    </nav>\n  );\n};\n","import { Routes, Route, Navigate } from 'react-router-dom';\nimport './App.scss';\nimport { HomePage } from './Pages/HomePage/HomePage';\nimport { PeoplePage } from './Pages/PeoplePage/PeoplePage';\nimport { NotFoundPage } from './Pages/NotFoundPage/NotFoundPage';\nimport { Navbar } from './components/Navbar/Navbar';\n\nexport const App = () => (\n  <div data-cy=\"app\">\n    <Navbar />\n\n    <main className=\"section\">\n      <div className=\"container\">\n        <Routes>\n          <Route path=\"/\" element={<HomePage />} />\n          <Route path=\"home\" element={<Navigate to=\"/\" replace />} />\n          <Route path=\"people\" element={<PeoplePage />}>\n            <Route path=\":selectedSlug\" element={<PeoplePage />} />\n          </Route>\n          <Route path=\"*\" element={<NotFoundPage />} />\n        </Routes>\n      </div>\n    </main>\n  </div>\n);\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <Router>\n      <App />\n    </Router>,\n  );\n"],"sourceRoot":""}